https://coderun.yandex.ru/selections/mgustokashin

4. Гоблины и шаманы
Не решалась
Средняя

Гоблины Мглистых гор очень любях ходить к своим шаманам. Так как гоблинов много, к шаманам часто образуются очень длинные очереди. А поскольку много гоблинов в одном месте быстро образуют шумную толпу, которая мешает шаманам проводить сложные медицинские манипуляции, последние решили установить некоторые правила касательно порядка в очереди.

Обычные гоблины при посещении шаманов должны вставать в конец очереди. Привилегированные же гоблины, знающие особый пароль, встают ровно в её середину, причем при нечётной длине очереди они встают сразу за центром.

Так как гоблины также широко известны своим непочтительным отношением ко всяческим правилам и законам, шаманы попросили вас написать программу, которая бы отслеживала порядок гоблинов в очереди.
Формат ввода

В первой строке входных данный записано число N (1≤N≤1051≤N≤105) — количество запросов к программе. Следующие N строк содержат описание запросов в формате:

''+ i'' — гоблин с номером i (1≤i≤N1≤i≤N) встает в конец очереди.

''* i'' — привилегированный гоблин с номером i встает в середину очереди.

''-'' — первый гоблин из очереди уходит к шаманам. Гарантируется, что на момент такого запроса очередь не пуста.
Формат вывода

Для каждого запроса типа ''-'' программа должна вывести номер гоблина, который должен зайти к шаманам.
Ограничения

Ограничение времени

    1 с

Ограничение памяти

    256 МБ

Пример 1
Ввод

7
+ 1
+ 2
-
+ 3
+ 4
-
-

Вывод

1
2
3

10. Упаковка эчпочмаков
Не решалась
Сложная

Андрей работает мыловаром и живет в общежитии со своим соседом Азатом. Бабушка прислала Азату коробку своих фирменных эчпочмаков. Эчпочмаки пахли так вкусно, что Андрей не выдержал и съел некоторые из них.

Коробка с эчпочмаками −− это прямоугольник размером N×MN×M. Фирменные эчпочмаки бабушки Азата представляют собой непересекающиеся равнобедренные треугольники, вершины которых имеют целые координаты (начало координат в левом нижнем углу коробки). Хотя бы одна сторона каждого эчпочмака параллельна стороне коробки.

Андрей решил оставить уцелевшие эчпочмаки на своих местах, а взамен съеденных приготовить новые и расположить их так, чтобы никакие два эчпочмака не пересекались и в коробке не осталось свободного места. Приготовленные Андреем эчпочмаки также должны быть равнобедренными треугольниками, их вершины должны иметь целочисленные координаты и хотя бы одна из сторон должна быть параллельна стороне коробки.

Определите минимальное количество эчпочмаков, которые должен приготовить Андрей и координаты, в которых их необходимо разместить. Если правильных ответов несколько −− выведите любой из них.
Формат ввода

В первой строке вводится три целых числа NN, MM и KK (1≤N,M≤41≤N,M≤4, 0≤K≤320≤K≤32) −− размеры коробки и количество уцелевших эчпочмаков бабушки Азата.

Следующие KK строк содержат по 6 координат (x1,y1x1,y1), (x2,y2x2,y2), (x3,y3x3,y3) (0≤xi≤N0≤xi​≤N, 0≤yi≤M0≤yi​≤M).
Формат вывода

Выведите число Ө −− минимальное количество эчпочмаков, которые должен приготовить Андрей.

В следующих Ө строках выведите по 6 чисел −− координаты эчпочмаков в том же формате, как во входных данных.

Если правильных ответов несколько −− выведите любой из них.
Примечание

Рисунки соответствуют примерам. Эчпочмаки от бабушки покрашены в зеленый, а приготовленные Андреем имеют красный контур

Ограничения

Ограничение времени

    3 с

Ограничение памяти

    512 МБ

Пример 1
Ввод

4 4 0

Вывод

2
0 0 0 4 4 0 
0 4 4 0 4 4 

Пример 2
Ввод

2 3 1
1 1 2 2 1 2

Вывод

5
0 0 2 0 2 2 
0 1 0 3 2 3 
0 1 1 1 1 2 
0 0 0 1 1 1 
1 2 2 2 2 3 
